{{ define "main" }}

<header class="plans-index-header">
    <h1>Our Timeline ğŸ§¶</h1>
    <p class="plans-intro">From dreams to memories.</p>
</header>

<div class="timeline-wrapper">

    {{ $dated := where .Pages "Params.target_date" "!=" nil }}
    {{ range ($dated.ByParam "target_date") }}
    
    <div class="timeline-item">
        <div class="timeline-marker"></div>

        <div class="timeline-date">
            {{ .Params.target_date | time.Format "Jan 02" }}
            <span class="year">{{ .Params.target_date | time.Format "2006" }}</span>
        </div>

        <div class="timeline-content">
            <a href="{{ .RelPermalink }}" class="timeline-card">
                <span class="status-pill {{ .Params.status | urlize }}">{{ .Params.status }}</span>
                <h3>{{ .Title }}</h3>
                {{ if .Params.location }}
                <p class="location">ğŸ“ {{ .Params.location }}</p>
                {{ end }}
            </a>
        </div>
    </div>
    {{ end }}

    <div class="timeline-break">
        <span> Someday / Dreaming â˜ï¸ </span>
    </div>

    {{ $undated := where .Pages "Params.target_date" "eq" nil }}
    {{ range $undated }}
    <div class="timeline-item dreaming-item">
        <div class="timeline-marker"></div>
        <div class="timeline-date">???</div>
        <div class="timeline-content">
            <a href="{{ .RelPermalink }}" class="timeline-card">
                <span class="status-pill {{ .Params.status | urlize }}">Dreaming</span>
                <h3>{{ .Title }}</h3>
            </a>
        </div>
    </div>
    {{ end }}

</div>

{{ end }}